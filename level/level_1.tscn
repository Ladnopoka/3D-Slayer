[gd_scene load_steps=12 format=3 uid="uid://ckf3ipmwutb47"]

[ext_resource type="PackedScene" uid="uid://csqg2v0p2s8yw" path="res://player/rogue_hooded.tscn" id="2_aurua"]
[ext_resource type="PackedScene" uid="uid://dh7eqkenjyvhp" path="res://hideout/hideout.tscn" id="3_uheyo"]
[ext_resource type="PackedScene" uid="uid://dawwbik4sgvk7" path="res://player/barbarian.tscn" id="3_wd3uh"]
[ext_resource type="PackedScene" uid="uid://ds52ra1i0aaov" path="res://transition/transition.tscn" id="5_1qjme"]
[ext_resource type="FontFile" uid="uid://dxh1exxrby0bd" path="res://globals/Diablo Heavy.ttf" id="6_kd8a7"]
[ext_resource type="PackedScene" uid="uid://dcbt3cxtuaj55" path="res://player/mage.tscn" id="7_kerki"]
[ext_resource type="PackedScene" uid="uid://ci7p6fwa6jxd" path="res://portal/portal.tscn" id="10_wksuf"]

[sub_resource type="GDScript" id="GDScript_1jutb"]
script/source = "extends Node3D

@onready var transition = $Transition
@onready var score_max = $Score
@onready var deaths = $Deaths

var current_selected_character_name
var selection_area = preload(\"res://player/selection_area.tscn\")

# Called when the node enters the scene tree for the first time.
func _ready():
	transition.get_node(\"AnimationPlayer\").play(\"fade_in\")
	score_max.text = \"Best Score: \" + str(Global.best_score)
	deaths.text = \"Deaths: \" + str(Global.deaths)
	
	for character in $Characters.get_children():
		var selection_area_ins = selection_area.instantiate()
		character.add_child(selection_area_ins)
		
func character_selected(character_name):
	current_selected_character_name = character_name
	$CharacterLabel.text = current_selected_character_name
	for character in $Characters.get_children():
		character.get_child(character.get_child_count()-1).hide_selection()
"

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_n72or"]
albedo_color = Color(0.0784314, 0.239216, 0.0627451, 1)

[sub_resource type="PlaneMesh" id="PlaneMesh_o8vr5"]
material = SubResource("StandardMaterial3D_n72or")

[sub_resource type="BoxShape3D" id="BoxShape3D_lknay"]
size = Vector3(2, 2, 0)

[node name="Level1" type="Node3D"]
script = SubResource("GDScript_1jutb")

[node name="Characters" type="Node" parent="."]

[node name="Mage" parent="Characters" instance=ExtResource("7_kerki")]
transform = Transform3D(1, 0, 1.74846e-07, 0, 1, 0, -1.74846e-07, 0, 1, 0, 0, 11)

[node name="Rogue_Hooded" parent="Characters" instance=ExtResource("2_aurua")]
transform = Transform3D(-0.688582, 0, -0.725158, 0, 1, 0, 0.725158, 0, -0.688582, -6.52419, 0, 4.73239)
script = null

[node name="Skeleton3D" parent="Characters/Rogue_Hooded/Rig" index="0"]
bones/0/rotation = Quaternion(-5.13343e-11, 0.00149184, 8.89136e-11, 0.999999)
bones/1/position = Vector3(-5.90248e-25, 0.371602, 2.47568e-18)
bones/1/rotation = Quaternion(0.000928778, 0.04274, -0.000238153, 0.999086)
bones/2/rotation = Quaternion(0.00037943, -0.000794626, 0.000256532, 1)
bones/3/rotation = Quaternion(0.000165892, -0.000436331, 0.000243918, 1)
bones/4/position = Vector3(0.211992, 0.134143, 9.88213e-05)
bones/4/rotation = Quaternion(-0.554652, -0.0574855, -0.634742, 0.534939)
bones/5/rotation = Quaternion(3.70263e-08, -5.89313e-08, -0.517785, 0.855511)
bones/7/rotation = Quaternion(-0.31932, -0.338847, 0.149454, 0.872285)
bones/8/rotation = Quaternion(0.000391302, 0.00124289, -0.702675, 0.71151)
bones/10/position = Vector3(-0.21195, 0.13403, -0.000358593)
bones/10/rotation = Quaternion(-0.612531, 0.078076, 0.61009, 0.496488)
bones/11/rotation = Quaternion(2.63149e-08, 4.42138e-08, 0.537889, 0.843016)
bones/13/rotation = Quaternion(-0.321433, 0.312536, -0.22961, 0.863876)
bones/14/rotation = Quaternion(0.00213612, 0.00378448, 0.704117, 0.710071)
bones/19/rotation = Quaternion(-0.00039155, -0.0306754, 7.18508e-05, 0.999529)
bones/21/position = Vector3(0.170945, 0.113587, -0.000347001)
bones/21/rotation = Quaternion(0.989921, 0.0827624, 0.0780157, 0.084384)
bones/22/rotation = Quaternion(0.386338, 5.95639e-08, -2.64564e-07, 0.922357)
bones/23/rotation = Quaternion(-0.613751, -0.199732, 0.0738666, 0.760237)
bones/24/rotation = Quaternion(-3.01273e-08, 0.920096, -0.391692, 6.94242e-08)
bones/25/position = Vector3(-0.170945, 0.113587, 0.000347029)
bones/25/rotation = Quaternion(0.99156, -0.0328181, 0.0294913, 0.121907)
bones/26/rotation = Quaternion(0.429877, -5.97208e-08, 2.99517e-07, 0.902888)
bones/27/rotation = Quaternion(-0.640345, 0.111554, -0.0221119, 0.759622)
bones/28/rotation = Quaternion(3.03031e-08, 0.920179, -0.391498, -6.94815e-08)
bones/29/position = Vector3(0.170945, 0.292417, 0.57592)
bones/29/rotation = Quaternion(0.707107, -2.29302e-07, -4.60551e-08, 0.707107)
bones/30/position = Vector3(0.201894, 0.027112, 0.202561)
bones/30/rotation = Quaternion(-0.703589, -7.08427e-08, -7.02269e-08, 0.710607)
bones/31/rotation = Quaternion(9.56973e-09, 1.7633e-09, 0.985981, -0.16686)
bones/32/rotation = Quaternion(-1.04035e-07, 0.391084, 0.920355, -2.9526e-08)
bones/34/rotation = Quaternion(1, -4.13066e-11, 1.94709e-07, 5.30663e-12)
bones/36/position = Vector3(-0.170945, 0.292417, 0.575919)
bones/36/rotation = Quaternion(0.707107, -3.82385e-08, 1.45009e-07, 0.707107)
bones/37/position = Vector3(-0.170945, 0.0275461, 0.246114)
bones/37/rotation = Quaternion(-0.706118, -7.06953e-08, -7.03867e-08, 0.708095)
bones/38/rotation = Quaternion(-5.76172e-09, 6.35838e-10, 0.994905, 0.100821)
bones/39/rotation = Quaternion(-1.04035e-07, 0.391084, 0.920355, -2.95261e-08)
bones/41/rotation = Quaternion(1, 4.44086e-16, 1.94707e-07, 6.87333e-22)
bones/43/position = Vector3(0.455315, 1.10435, -0.587724)
bones/43/rotation = Quaternion(-0.707107, -0.000351675, -0.000351675, 0.707107)
bones/44/position = Vector3(0.520409, 0.777664, -0.0541849)
bones/44/rotation = Quaternion(0.796465, 0.00464111, 0.604666, 0.00129762)
bones/45/position = Vector3(-0.452808, 1.10492, -0.590077)
bones/45/rotation = Quaternion(-0.707107, -0.000351675, -0.000351675, 0.707107)
bones/46/position = Vector3(-0.510873, 0.778141, 0.0576441)
bones/46/rotation = Quaternion(-0.758893, 0.000856888, 0.651212, 0.00166486)

[node name="Knife_Offhand" parent="Characters/Rogue_Hooded/Rig/Skeleton3D" index="0"]
transform = Transform3D(-0.00709631, 0.265024, 0.964215, 0.999948, -0.00511605, 0.00876576, 0.00725626, 0.964228, -0.264975, 0.509343, 0.627174, -0.0152295)

[node name="1H_Crossbow" parent="Characters/Rogue_Hooded/Rig/Skeleton3D" index="1"]
transform = Transform3D(0.987353, -0.158532, -0.0005855, -0.00141853, -0.00514043, -0.999985, 0.158527, 0.98734, -0.00530064, -0.491328, 0.73584, 0.0974222)

[node name="2H_Crossbow" parent="Characters/Rogue_Hooded/Rig/Skeleton3D" index="2"]
transform = Transform3D(0.987353, -0.158532, -0.0005855, -0.00141853, -0.00514043, -0.999985, 0.158527, 0.98734, -0.00530064, -0.491328, 0.73584, 0.0974222)

[node name="Knife" parent="Characters/Rogue_Hooded/Rig/Skeleton3D" index="3"]
transform = Transform3D(0.000585505, -0.158531, 0.987353, 0.999985, -0.00514029, -0.00141851, 0.00530049, 0.98734, 0.158526, -0.493031, 0.63116, 0.107095)

[node name="Throwable" parent="Characters/Rogue_Hooded/Rig/Skeleton3D" index="4"]
transform = Transform3D(0.000585521, -0.158532, 0.987353, 0.999985, -0.00514027, -0.00141852, 0.00530048, 0.98734, 0.158526, -0.521606, 0.630233, 0.285059)

[node name="Rogue_Cape" parent="Characters/Rogue_Hooded/Rig/Skeleton3D" index="5"]
transform = Transform3D(0.996302, -0.000341256, 0.0859211, 0.00059839, 0.999995, -0.00296694, -0.0859197, 0.00300738, 0.996298, 6.81779e-05, 1.18181, 0.00207157)

[node name="Barbarian" parent="Characters" instance=ExtResource("3_wd3uh")]
transform = Transform3D(0.957637, 0, -0.287979, 0, 1, 0, 0.287979, 0, 0.957637, 0.549507, 0, -0.252919)

[node name="Skeleton3D" parent="Characters/Barbarian/Rig" index="0"]
bones/1/position = Vector3(0, 0.371026, 0)
bones/1/rotation = Quaternion(-1.11123e-10, 0.0431578, 2.57241e-09, 0.999068)
bones/4/rotation = Quaternion(-0.552375, -0.0565857, -0.637312, 0.534334)
bones/5/rotation = Quaternion(3.73353e-08, -5.92883e-08, -0.516168, 0.856487)
bones/7/rotation = Quaternion(-0.321684, -0.337858, 0.150436, 0.871631)
bones/8/rotation = Quaternion(0.000848092, 0.000848086, -0.703987, 0.710212)
bones/11/rotation = Quaternion(-0.610883, 0.0770716, 0.6129, 0.495213)
bones/12/rotation = Quaternion(2.68465e-08, 4.43381e-08, 0.538509, 0.842619)
bones/14/rotation = Quaternion(-0.3207, 0.314086, -0.232611, 0.862782)
bones/15/rotation = Quaternion(0.00268487, 0.00316238, 0.704313, 0.709878)
bones/19/rotation = Quaternion(-5.80608e-11, -0.0313417, -1.88012e-09, 0.999509)
bones/22/rotation = Quaternion(0.989974, 0.0835909, 0.0784576, 0.0825152)
bones/23/rotation = Quaternion(0.383002, 5.96716e-08, -2.62374e-07, 0.923748)
bones/24/rotation = Quaternion(-0.615194, -0.201558, 0.0745418, 0.758521)
bones/26/rotation = Quaternion(0.99191, -0.0330856, 0.0299181, 0.118847)
bones/27/rotation = Quaternion(0.428377, -5.98443e-08, 2.98545e-07, 0.9036)
bones/28/rotation = Quaternion(-0.641666, 0.112677, -0.0223276, 0.758334)
bones/29/rotation = Quaternion(3.04791e-08, 0.920355, -0.391084, -6.94849e-08)
bones/30/rotation = Quaternion(0.707107, -2.29302e-07, -4.60552e-08, 0.707107)
bones/31/position = Vector3(0.202182, 0.0259903, 0.205181)
bones/31/rotation = Quaternion(-0.707107, -7.05285e-08, -7.05285e-08, 0.707107)
bones/32/rotation = Quaternion(9.65792e-09, 1.77955e-09, 0.985719, -0.168398)
bones/33/rotation = Quaternion(-1.04035e-07, 0.391084, 0.920355, -2.9526e-08)
bones/35/rotation = Quaternion(1, -3.10863e-15, 1.94707e-07, -6.91739e-22)
bones/37/rotation = Quaternion(0.707107, -3.82385e-08, 1.45009e-07, 0.707107)
bones/38/rotation = Quaternion(-0.707107, -7.05285e-08, -7.05285e-08, 0.707107)
bones/39/rotation = Quaternion(-5.83589e-09, 6.43837e-10, 0.994809, 0.101756)
bones/40/rotation = Quaternion(-1.04035e-07, 0.391084, 0.920355, -2.95261e-08)
bones/45/position = Vector3(0.520841, 0.776459, -0.0576374)
bones/45/rotation = Quaternion(0.794627, -1.11759e-07, 0.607098, -5.96046e-08)
bones/47/position = Vector3(-0.510844, 0.776459, 0.0597369)
bones/47/rotation = Quaternion(-0.758253, -1.52737e-07, 0.651961, -1.11759e-08)

[node name="1H_Axe_Offhand" parent="Characters/Barbarian/Rig/Skeleton3D" index="0"]
transform = Transform3D(8.78331e-07, 0.262864, 0.964832, 0.999957, -0.00880471, 0.00239831, 0.00912583, 0.964792, -0.262853, 0.516144, 0.624726, 0.0148678)

[node name="Barbarian_Round_Shield" parent="Characters/Barbarian/Rig/Skeleton3D" index="1"]
transform = Transform3D(6.66841e-07, 0.262863, 0.964832, 0.999957, -0.00880723, 0.00239922, 0.0091285, 0.964792, -0.262852, 0.662263, 0.625243, -0.0418305)

[node name="1H_Axe" parent="Characters/Barbarian/Rig/Skeleton3D" index="2"]
transform = Transform3D(-0.00187979, -0.158058, 0.987427, 0.999968, -0.00787387, 0.000642914, 0.00767369, 0.987398, 0.158068, -0.495664, 0.629318, 0.140744)

[node name="2H_Axe" parent="Characters/Barbarian/Rig/Skeleton3D" index="3"]
transform = Transform3D(-0.00187979, -0.158058, 0.987427, 0.999968, -0.00787387, 0.000642914, 0.00767369, 0.987398, 0.158068, -0.495664, 0.629318, 0.140744)

[node name="Mug" parent="Characters/Barbarian/Rig/Skeleton3D" index="4"]
transform = Transform3D(-0.00187979, -0.158058, 0.987427, 0.999968, -0.00787387, 0.000642914, 0.00767369, 0.987398, 0.158068, -0.487363, 0.329147, 0.0901081)

[node name="Barbarian_Hat" parent="Characters/Barbarian/Rig/Skeleton3D" index="5"]
transform = Transform3D(0.99972, -1.40143e-09, 0.0236466, 1.39341e-09, 1, 3.55686e-10, -0.0236466, -3.22637e-10, 0.99972, -7.55726e-09, 1.18124, -1.39052e-07)

[node name="Barbarian_Cape" parent="Characters/Barbarian/Rig/Skeleton3D" index="6"]
transform = Transform3D(0.996275, -5.14962e-09, 0.0862353, 5.13043e-09, 1, 4.44077e-10, -0.0862353, 1.8939e-15, 0.996275, -1.91641e-06, 1.18124, 2.59003e-08)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.998572, 0.0477985, -0.0238551, -0.0170119, 0.707835, 0.706173, 0.0506395, -0.704759, 0.707637, 0.289022, 8.21207, 0)
shadow_enabled = true

[node name="Floor2" type="StaticBody3D" parent="."]

[node name="Floor" type="MeshInstance3D" parent="Floor2"]
transform = Transform3D(30, 0, 0, 0, 30, 0, 0, 0, 30, 0, 0, 0)
mesh = SubResource("PlaneMesh_o8vr5")
skeleton = NodePath("../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Floor2"]
transform = Transform3D(30, 0, 0, 0, -1.31134e-06, 30, 0, -30, -1.31134e-06, 0, 0, 0)
shape = SubResource("BoxShape3D_lknay")

[node name="Portal" parent="." instance=ExtResource("10_wksuf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.21744, 0, 16.0452)

[node name="Hideout" parent="." instance=ExtResource("3_uheyo")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)

[node name="Deaths" type="Label" parent="."]
offset_top = 40.0
offset_right = 237.0
offset_bottom = 101.0
theme_override_fonts/font = ExtResource("6_kd8a7")
theme_override_font_sizes/font_size = 50
text = "Deaths:"

[node name="Score" type="Label" parent="."]
offset_right = 526.0
offset_bottom = 61.0
theme_override_fonts/font = ExtResource("6_kd8a7")
theme_override_font_sizes/font_size = 50
text = "Max Score: 10/10"

[node name="Transition" parent="." instance=ExtResource("5_1qjme")]
position = Vector2(1, 0)

[node name="CharacterLabel" type="Label" parent="."]
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -20.0
offset_right = 20.0
offset_bottom = 23.0
grow_horizontal = 2

[editable path="Characters/Rogue_Hooded"]
[editable path="Characters/Barbarian"]
