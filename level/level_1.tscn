[gd_scene load_steps=12 format=3 uid="uid://ckf3ipmwutb47"]

[ext_resource type="PackedScene" uid="uid://csqg2v0p2s8yw" path="res://player/rogue_hooded.tscn" id="2_aurua"]
[ext_resource type="PackedScene" uid="uid://dh7eqkenjyvhp" path="res://hideout/hideout.tscn" id="3_uheyo"]
[ext_resource type="PackedScene" uid="uid://dawwbik4sgvk7" path="res://player/barbarian.tscn" id="3_wd3uh"]
[ext_resource type="PackedScene" uid="uid://ds52ra1i0aaov" path="res://transition/transition.tscn" id="5_1qjme"]
[ext_resource type="FontFile" uid="uid://dxh1exxrby0bd" path="res://globals/Diablo Heavy.ttf" id="6_kd8a7"]
[ext_resource type="PackedScene" uid="uid://dcbt3cxtuaj55" path="res://player/mage.tscn" id="7_kerki"]
[ext_resource type="PackedScene" uid="uid://ci7p6fwa6jxd" path="res://portal/portal.tscn" id="10_wksuf"]

[sub_resource type="GDScript" id="GDScript_1jutb"]
script/source = "extends Node3D

@onready var transition = $Transition
@onready var score_max = $Score
@onready var deaths = $Deaths

var current_selected_character_name
var selection_area = preload(\"res://player/selection_area.tscn\")

# Called when the node enters the scene tree for the first time.
func _ready():
	transition.get_node(\"AnimationPlayer\").play(\"fade_in\")
	score_max.text = \"Best Score: \" + str(Global.best_score)
	deaths.text = \"Deaths: \" + str(Global.deaths)
	
	for character in $Characters.get_children():
		var selection_area_ins = selection_area.instantiate()
		character.add_child(selection_area_ins)
		
func character_selected(character_name):
	current_selected_character_name = character_name
	$CharacterLabel.text = current_selected_character_name
	for character in $Characters.get_children():
		character.get_child(character.get_child_count()-1).hide_selection()
"

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_n72or"]
albedo_color = Color(0.0784314, 0.239216, 0.0627451, 1)

[sub_resource type="PlaneMesh" id="PlaneMesh_o8vr5"]
material = SubResource("StandardMaterial3D_n72or")

[sub_resource type="BoxShape3D" id="BoxShape3D_lknay"]
size = Vector3(2, 2, 0)

[node name="Level1" type="Node3D"]
script = SubResource("GDScript_1jutb")

[node name="Characters" type="Node" parent="."]

[node name="Mage" parent="Characters" instance=ExtResource("7_kerki")]
transform = Transform3D(1, 0, 1.74846e-07, 0, 1, 0, -1.74846e-07, 0, 1, 0, 0, 11)

[node name="Rogue_Hooded" parent="Characters" instance=ExtResource("2_aurua")]
transform = Transform3D(-0.688582, 0, -0.725158, 0, 1, 0, 0.725158, 0, -0.688582, -6.52419, 0, 4.73239)
script = null

[node name="Skeleton3D" parent="Characters/Rogue_Hooded/Rig" index="0"]
bones/1/position = Vector3(1.70277e-18, 0.370865, 4.23317e-18)
bones/1/rotation = Quaternion(0.000918203, 0.0427406, -0.000237736, 0.999086)
bones/2/rotation = Quaternion(0.000384172, -0.000958894, 0.000268167, 0.999999)
bones/3/rotation = Quaternion(0.000176, -0.000439163, 0.000229449, 1)
bones/4/position = Vector3(0.211981, 0.13414, 0.000115606)
bones/4/rotation = Quaternion(-0.554483, -0.0574706, -0.63461, 0.535271)
bones/5/rotation = Quaternion(3.72784e-08, -6.18764e-08, -0.517884, 0.855451)
bones/7/rotation = Quaternion(-0.319313, -0.339246, 0.149371, 0.872146)
bones/8/rotation = Quaternion(0.000423466, 0.00131938, -0.702499, 0.711684)
bones/10/position = Vector3(-0.21196, 0.134033, -0.000375378)
bones/10/rotation = Quaternion(-0.612259, 0.0781674, 0.610217, 0.496653)
bones/11/rotation = Quaternion(2.35658e-08, 4.56267e-08, 0.538048, 0.842914)
bones/13/rotation = Quaternion(-0.321447, 0.312662, -0.229681, 0.863806)
bones/14/rotation = Quaternion(0.00227279, 0.00393757, 0.704033, 0.710152)
bones/19/rotation = Quaternion(-0.000390121, -0.0304102, 5.14698e-05, 0.999537)
bones/21/position = Vector3(0.170945, 0.113587, -0.000711227)
bones/21/rotation = Quaternion(0.98993, 0.0829162, 0.0779202, 0.0842106)
bones/22/rotation = Quaternion(0.389312, 5.75378e-08, -2.66112e-07, 0.921106)
bones/23/rotation = Quaternion(-0.615621, -0.199583, 0.0744781, 0.758703)
bones/24/rotation = Quaternion(-3.00391e-08, 0.920018, -0.391875, 6.93974e-08)
bones/25/position = Vector3(-0.170945, 0.113587, 0.000711255)
bones/25/rotation = Quaternion(0.991295, -0.0329546, 0.0294643, 0.124018)
bones/26/rotation = Quaternion(0.43396, -5.94043e-08, 3.02325e-07, 0.900932)
bones/27/rotation = Quaternion(-0.642902, 0.111498, -0.022291, 0.757462)
bones/28/rotation = Quaternion(3.0459e-08, 0.920355, -0.391084, -6.94932e-08)
bones/29/position = Vector3(0.170945, 0.292531, 0.576033)
bones/30/position = Vector3(0.201894, 0.0264081, 0.201245)
bones/30/rotation = Quaternion(-0.702955, -7.09202e-08, -7.0136e-08, 0.711234)
bones/36/position = Vector3(-0.170945, 0.292531, 0.576033)
bones/37/position = Vector3(-0.170945, 0.0274975, 0.247306)
bones/37/rotation = Quaternion(-0.706822, -7.06051e-08, -7.04521e-08, 0.707391)
bones/44/position = Vector3(0.520409, 0.777112, -0.0541002)
bones/44/rotation = Quaternion(0.796512, 0.00473964, 0.604602, 0.00132797)
bones/46/position = Vector3(-0.510873, 0.777618, 0.0575594)
bones/46/rotation = Quaternion(-0.758835, 0.000788759, 0.65128, 0.00172801)

[node name="Knife_Offhand" parent="Characters/Rogue_Hooded/Rig/Skeleton3D" index="0"]
transform = Transform3D(-0.00739564, 0.265194, 0.964166, 0.999941, -0.0055652, 0.00920132, 0.00780616, 0.964179, -0.265137, 0.509507, 0.626611, -0.0151609)

[node name="1H_Crossbow" parent="Characters/Rogue_Hooded/Rig/Skeleton3D" index="1"]
transform = Transform3D(0.987317, -0.158755, -0.00058688, -0.00148754, -0.0055536, -0.999983, 0.158749, 0.987302, -0.00571965, -0.491356, 0.735195, 0.0973893)

[node name="2H_Crossbow" parent="Characters/Rogue_Hooded/Rig/Skeleton3D" index="2"]
transform = Transform3D(0.987317, -0.158755, -0.00058688, -0.00148754, -0.0055536, -0.999983, 0.158749, 0.987302, -0.00571965, -0.491356, 0.735195, 0.0973893)

[node name="Knife" parent="Characters/Rogue_Hooded/Rig/Skeleton3D" index="3"]
transform = Transform3D(0.000586886, -0.158755, 0.987317, 0.999983, -0.00555345, -0.00148752, 0.00571951, 0.987302, 0.158749, -0.493062, 0.630511, 0.107018)

[node name="Throwable" parent="Characters/Rogue_Hooded/Rig/Skeleton3D" index="4"]
transform = Transform3D(0.000586902, -0.158755, 0.987317, 0.999983, -0.00555344, -0.00148753, 0.00571949, 0.987302, 0.158749, -0.521677, 0.62951, 0.284975)

[node name="Rogue_Cape" parent="Characters/Rogue_Hooded/Rig/Skeleton3D" index="5"]
transform = Transform3D(0.99633, -0.000335092, 0.0855892, 0.00059193, 0.999995, -0.00297546, -0.0855878, 0.0030152, 0.996326, 6.02268e-05, 1.18107, 0.00206579)

[node name="Barbarian" parent="Characters" instance=ExtResource("3_wd3uh")]
transform = Transform3D(0.957637, 0, -0.287979, 0, 1, 0, 0.287979, 0, 0.957637, 0.549507, 0, -0.252919)

[node name="Skeleton3D" parent="Characters/Barbarian/Rig" index="0"]
bones/1/position = Vector3(0, 0.370493, 0)
bones/1/rotation = Quaternion(-1.11123e-10, 0.0431578, 2.57241e-09, 0.999068)
bones/4/rotation = Quaternion(-0.552157, -0.0565546, -0.637421, 0.534433)
bones/5/rotation = Quaternion(3.71846e-08, -6.20234e-08, -0.516181, 0.85648)
bones/7/rotation = Quaternion(-0.321618, -0.338085, 0.150325, 0.871587)
bones/8/rotation = Quaternion(0.000883247, 0.000883242, -0.703857, 0.710341)
bones/11/rotation = Quaternion(-0.610684, 0.0770524, 0.613011, 0.495323)
bones/12/rotation = Quaternion(2.38052e-08, 4.56537e-08, 0.538522, 0.842611)
bones/14/rotation = Quaternion(-0.320651, 0.31431, -0.232507, 0.862747)
bones/15/rotation = Quaternion(0.002792, 0.00328856, 0.704201, 0.709988)
bones/19/rotation = Quaternion(-5.80608e-11, -0.0313417, -1.88012e-09, 0.999509)
bones/22/rotation = Quaternion(0.989853, 0.0836317, 0.0785446, 0.0838297)
bones/23/rotation = Quaternion(0.386477, 5.75667e-08, -2.64277e-07, 0.922299)
bones/24/rotation = Quaternion(-0.617018, -0.20135, 0.0751758, 0.757031)
bones/26/rotation = Quaternion(0.991764, -0.0331698, 0.0298839, 0.120043)
bones/27/rotation = Quaternion(0.431482, -5.93552e-08, 3.00327e-07, 0.902122)
bones/28/rotation = Quaternion(-0.643348, 0.112618, -0.022626, 0.756908)
bones/29/rotation = Quaternion(3.04791e-08, 0.920355, -0.391084, -6.94849e-08)
bones/30/rotation = Quaternion(0.707107, -2.29302e-07, -4.60552e-08, 0.707107)
bones/31/position = Vector3(0.202182, 0.0259903, 0.205181)
bones/31/rotation = Quaternion(-0.707107, -7.05285e-08, -7.05285e-08, 0.707107)
bones/32/rotation = Quaternion(9.65792e-09, 1.77955e-09, 0.985719, -0.168398)
bones/33/rotation = Quaternion(-1.04035e-07, 0.391084, 0.920355, -2.9526e-08)
bones/35/rotation = Quaternion(1, -3.10863e-15, 1.94707e-07, -6.91739e-22)
bones/37/rotation = Quaternion(0.707107, -3.82385e-08, 1.45009e-07, 0.707107)
bones/38/rotation = Quaternion(-0.707107, -7.05285e-08, -7.05285e-08, 0.707107)
bones/39/rotation = Quaternion(-5.83589e-09, 6.43837e-10, 0.994809, 0.101756)
bones/40/rotation = Quaternion(-1.04035e-07, 0.391084, 0.920355, -2.95261e-08)
bones/45/position = Vector3(0.520841, 0.775991, -0.0576374)
bones/45/rotation = Quaternion(0.794627, -1.11759e-07, 0.607098, -5.96046e-08)
bones/47/position = Vector3(-0.510844, 0.77599, 0.0597369)
bones/47/rotation = Quaternion(-0.758253, -1.52737e-07, 0.651961, -1.11759e-08)

[node name="1H_Axe_Offhand" parent="Characters/Barbarian/Rig/Skeleton3D" index="0"]
transform = Transform3D(8.29902e-07, 0.262863, 0.964832, 0.999954, -0.00916946, 0.00249759, 0.0095038, 0.964789, -0.262851, 0.516132, 0.624175, 0.0148629)

[node name="Barbarian_Round_Shield" parent="Characters/Barbarian/Rig/Skeleton3D" index="1"]
transform = Transform3D(6.18411e-07, 0.262863, 0.964832, 0.999954, -0.00917198, 0.0024985, 0.00950647, 0.964789, -0.262851, 0.662251, 0.624714, -0.0418351)

[node name="1H_Axe" parent="Characters/Barbarian/Rig/Skeleton3D" index="2"]
transform = Transform3D(-0.00195604, -0.158383, 0.987375, 0.999965, -0.00818787, 0.00066739, 0.00797921, 0.987343, 0.158393, -0.495664, 0.628768, 0.140738)

[node name="2H_Axe" parent="Characters/Barbarian/Rig/Skeleton3D" index="3"]
transform = Transform3D(-0.00195604, -0.158383, 0.987375, 0.999965, -0.00818787, 0.00066739, 0.00797921, 0.987343, 0.158393, -0.495664, 0.628768, 0.140738)

[node name="Mug" parent="Characters/Barbarian/Rig/Skeleton3D" index="4"]
transform = Transform3D(-0.00195604, -0.158383, 0.987375, 0.999965, -0.00818787, 0.00066739, 0.00797921, 0.987343, 0.158393, -0.487323, 0.328613, 0.0900128)

[node name="Barbarian_Hat" parent="Characters/Barbarian/Rig/Skeleton3D" index="5"]
transform = Transform3D(0.99972, -1.40143e-09, 0.0236466, 1.39341e-09, 1, 3.55686e-10, -0.0236466, -3.22637e-10, 0.99972, -7.55726e-09, 1.1807, -1.39052e-07)

[node name="Barbarian_Cape" parent="Characters/Barbarian/Rig/Skeleton3D" index="6"]
transform = Transform3D(0.996275, -5.14962e-09, 0.0862353, 5.13043e-09, 1, 4.44077e-10, -0.0862353, 1.8939e-15, 0.996275, -1.91641e-06, 1.1807, 2.59003e-08)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.998572, 0.0477985, -0.0238551, -0.0170119, 0.707835, 0.706173, 0.0506395, -0.704759, 0.707637, 0.289022, 8.21207, 0)
shadow_enabled = true

[node name="Floor2" type="StaticBody3D" parent="."]

[node name="Floor" type="MeshInstance3D" parent="Floor2"]
transform = Transform3D(30, 0, 0, 0, 30, 0, 0, 0, 30, 0, 0, 0)
mesh = SubResource("PlaneMesh_o8vr5")
skeleton = NodePath("../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Floor2"]
transform = Transform3D(30, 0, 0, 0, -1.31134e-06, 30, 0, -30, -1.31134e-06, 0, 0, 0)
shape = SubResource("BoxShape3D_lknay")

[node name="Portal" parent="." instance=ExtResource("10_wksuf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.21744, 0, 16.0452)

[node name="Hideout" parent="." instance=ExtResource("3_uheyo")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)

[node name="Deaths" type="Label" parent="."]
offset_top = 40.0
offset_right = 237.0
offset_bottom = 101.0
theme_override_fonts/font = ExtResource("6_kd8a7")
theme_override_font_sizes/font_size = 50
text = "Deaths:"

[node name="Score" type="Label" parent="."]
offset_right = 526.0
offset_bottom = 61.0
theme_override_fonts/font = ExtResource("6_kd8a7")
theme_override_font_sizes/font_size = 50
text = "Max Score: 10/10"

[node name="Transition" parent="." instance=ExtResource("5_1qjme")]
position = Vector2(1, 0)

[node name="CharacterLabel" type="Label" parent="."]
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -20.0
offset_right = 20.0
offset_bottom = 23.0
grow_horizontal = 2

[editable path="Characters/Rogue_Hooded"]
[editable path="Characters/Barbarian"]
